import axios from "axios";

export const fetchSalesforcePlannedDatesData = async (
  accessToken: string,
  projectId: string
) => {
  const url = `https://${
    import.meta.env.VITE_SALESFORCE_DOMAIN
  }/services/data/v53.0/query/?q=SELECT+New_Product_Development__c%2C%20A0T0_Planned_End_Date__c%20%2C%0AA0T0_Planned_Start_Date__c%20%2C%0AA0T1_Planned_End_Date__c%20%2C%0AA0T1_Planned_Start_Date__c%20%2C%0AA0T10_Planned_End_Date__c%20%2C%0AA0T10_Planned_Start_Date__c%20%2C%0AA0T11_Planned_End_Date__c%20%2C%0AA0T11_Planned_Start_Date__c%20%2C%0AA0T12_Planned_End_Date__c%20%2C%0AA0T12_Planned_Start_Date__c%20%2C%0AA0T15_Planned_End_Date__c%20%2C%0AA0T15_Planned_Start_Date__c%20%2C%0AA0T16_Planned_End_Date__c%20%2C%0AA0T16_Planned_Start_Date__c%20%2C%0AA0T2_Planned_End_Date__c%20%2C%0AA0T2_Planned_Start_Date__c%20%2C%0AA0T3_Planned_End_Date__c%20%2C%0AA0T3_Planned_Start_Date__c%20%2C%0AA0T4_Planned_End_Date__c%20%2C%0AA0T4_Planned_Start_Date__c%20%2C%0AA0T5_Planned_End_Date__c%20%2C%0AA0T5_Planned_Start_Date__c%20%2C%0AA0T6_Planned_End_Date__c%20%2C%0AA0T6_Planned_Start_Date__c%20%2C%0AA0T7_Planned_End_Date__c%20%2C%0AA0T7_Planned_Start_Date__c%20%2C%0AA0T8_Planned_End_Date__c%20%2C%0AA0T8_Planned_Start_Date__c%20%2C%0AA0T9_Planned_End_Date__c%20%2C%0AA0T9_Planned_Start_Date__c%20%2C%0AA1T0_Planned_End_Date__c%20%2C%0AA1T0_Planned_Start_Date__c%20%2C%0AA1T1_Planned_End_Date__c%20%2C%0AA1T1_Planned_Start_Date__c%20%2C%0AA1T10_Planned_End_Date__c%20%2C%0AA1T10_Planned_Start_Date__c%20%2C%0AA1T11_Planned_End_Date__c%20%2C%0AA1T11_Planned_Start_Date__c%20%2C%0AA1T12_Planned_End_Date__c%20%2C%0AA1T12_Planned_Start_Date__c%20%2C%0AA1T13_Planned_End_Date__c%20%2C%0AA1T13_Planned_Start_Date__c%20%2C%0AA1T14_Planned_End_Date__c%20%2C%0AA1T14_Planned_Start_Date__c%20%2C%0AA1T2_Planned_End_Date__c%20%2C%0AA1T2_Planned_Start_Date__c%20%2C%0AA1T3_Planned_End_Date__c%20%2C%0AA1T3_Planned_Start_Date__c%20%2C%0AA1T4_Planned_End_Date__c%20%2C%0AA1T4_Planned_Start_Date__c%20%2C%0AA1T5_Planned_End_Date__c%20%2C%0AA1T5_Planned_Start_Date__c%20%2C%0AA1T6_Planned_End_Date__c%20%2C%0AA1T6_Planned_Start_Date__c%20%2C%0AA1T7_Planned_End_Date__c%20%2C%0AA1T7_Planned_Start_Date__c%20%2C%0AA1T8_Planned_End_Date__c%20%2C%0AA1T8_Planned_Start_Date__c%20%2C%0AA1T9_Planned_End_Date__c%20%2C%0AA1T9_Planned_Start_Date__c%20%2C%0AA2T1_Planned_End_Date__c%20%2C%0AA2T1_Planned_Start_Date__c%20%2C%0AA2T10_Planned_End_Date__c%20%2C%0AA2T10_Planned_Start_Date__c%20%2C%0AA2T11_Planned_End_Date__c%20%2C%0AA2T11_Planned_Start_Date__c%20%2C%0AA2T12_Planned_End_Date__c%20%2C%0AA2T12_Planned_Start_Date__c%20%2C%0AA2T13_Planned_End_Date__c%20%2C%0AA2T13_Planned_Start_Date__c%20%2C%0AA2T2_Planned_End_Date__c%20%2C%0AA2T2_Planned_Start_Date__c%20%2C%0AA2T3_Planned_End_Date__c%20%2C%0AA2T3_Planned_Start_Date__c%20%2C%0AA2T4_Planned_End_Date__c%20%2C%0AA2T4_Planned_Start_Date__c%20%2C%0AA2T5_Planned_End_Date__c%20%2C%0AA2T5_Planned_Start_Date__c%20%2C%0AA2T6_Planned_End_Date__c%20%2C%0AA2T6_Planned_Start_Date__c%20%2C%0AA2T7_Planned_End_Date__c%20%2C%0AA2T7_Planned_Start_Date__c%20%2C%0AA2T8_Planned_End_Date__c%20%2C%0AA2T8_Planned_Start_Date__c%20%2C%0AA2T9_Planned_End_Date__c%20%2C%0AA2T9_Planned_Start_Date__c%20%2C%0AA3T1_Planned_End_Date__c%20%2C%0AA3T1_Planned_Start_Date__c%20%2C%0AA3T10_Planned_End_Date__c%20%2C%0AA3T10_Planned_Start_Date__c%20%2C%0AA3T11_Planned_End_Date__c%20%2C%0AA3T11_Planned_Start_Date__c%20%2C%0AA3T12_Planned_End_Date__c%20%2C%0AA3T12_Planned_Start_Date__c%20%2C%0AA3T13_Planned_End_Date__c%20%2C%0AA3T13_Planned_Start_Date__c%20%2C%0AA3T14_Planned_End_Date__c%20%2C%0AA3T14_Planned_Start_Date__c%20%2C%0AA3T15_Planned_End_Date__c%20%2C%0AA3T15_Planned_Start_Date__c%20%2C%0AA3T2_Planned_End_Date__c%20%2C%0AA3T2_Planned_Start_Date__c%20%2C%0AA3T3_Planned_End_Date__c%20%2C%0AA3T3_Planned_Start_Date__c%20%2C%0AA3T5_Planned_End_Date__c%20%2C%0AA3T5_Planned_Start_Date__c%20%2C%0AA3T6_Planned_End_Date__c%20%2C%0AA3T6_Planned_Start_Date__c%20%2C%0AA3T7_Planned_End_Date__c%20%2C%0AA3T7_Planned_Start_Date__c%20%2C%0AA3T8_Planned_End_Date__c%20%2C%0AA3T8_Planned_Start_Date__c%20%2C%0AA3T9_Planned_End_Date__c%20%2C%0AA3T9_Planned_Start_Date__c%20%2C%0AA4T1_Planned_End_Date__c%20%2C%0AA4T1_Planned_Start_Date__c%20%2C%0AA4T10_Planned_End_Date__c%20%2C%0AA4T10_Planned_Start_Date__c%20%2C%0AA4T11_Planned_End_Date__c%20%2C%0AA4T11_Planned_Start_Date__c%20%2C%0AA4T12_Planned_End_Date__c%20%2C%0AA4T12_Planned_Start_Date__c%20%2C%0AA4T13_Planned_End_Date__c%20%2C%0AA4T13_Planned_Start_Date__c%20%2C%0AA4T14_Planned_End_Date__c%20%2C%0AA4T14_Planned_Start_Date__c%20%2C%0AA4T2_Planned_End_Date__c%20%2C%0AA4T2_Planned_Start_Date__c%20%2C%0AA4T3_Planned_End_Date__c%20%2C%0AA4T3_Planned_Start_Date__c%20%2C%0AA4T4_Planned_End_Date__c%20%2C%0AA4T4_Planned_Start_Date__c%20%2C%0AA4T5_Planned_End_Date__c%20%2C%0AA4T5_Planned_Start_Date__c%20%2C%0AA4T6_Planned_End_Date__c%20%2C%0AA4T6_Planned_Start_Date__c%20%2C%0AA4T7_Planned_End_Date__c%20%2C%0AA4T7_Planned_Start_Date__c%20%2C%0AA4T8_Planned_End_Date__c%20%2C%0AA4T8_Planned_Start_Date__c%20%2C%0AA4T9_Planned_End_Date__c%20%2C%0AA4T9_Planned_Start_Date__c%20%2C%0AA5T1_Planned_End_Date__c%20%2C%0AA5T1_Planned_Start_Date__c%20%2C%0AA5T10_Planned_End_Date__c%20%2C%0AA5T10_Planned_Start_Date__c%20%2C%0AA5T11_Planned_End_Date__c%20%2C%0AA5T11_Planned_Start_Date__c%20%2C%0AA5T12_Planned_End_Date__c%20%2C%0AA5T12_Planned_Start_Date__c%20%2C%0AA5T13_Planned_End_Date__c%20%2C%0AA5T13_Planned_Start_Date__c%20%2C%0AA5T2_Planned_End_Date__c%20%2C%0AA5T2_Planned_Start_Date__c%20%2C%0AA5T3_Planned_End_Date__c%20%2C%0AA5T3_Planned_Start_Date__c%20%2C%0AA5T4_Planned_End_Date__c%20%2C%0AA5T4_Planned_Start_Date__c%20%2C%0AA5T5_Planned_End_Date__c%20%2C%0AA5T5_Planned_Start_Date__c%20%2C%0AA5T6_Planned_End_Date__c%20%2C%0AA5T6_Planned_Start_Date__c%20%2C%0AA5T7_Planned_End_Date__c%20%2C%0AA5T7_Planned_Start_Date__c%20%2C%0AA5T8_Planned_End_Date__c%20%2C%0AA5T8_Planned_Start_Date__c%20%2C%0AA5T9_Planned_End_Date__c%20%2C%0AA5T9_Planned_Start_Date__c%20%2C%0AG1_Planned_End_Date__c%20%2C%0AG1_Planned_Start_Date__c%20%2C%0AG2_Planned_End_Date__c%20%2C%0AG2_Planned_Start_Date__c%20%2C%0AG3_Planned_End_Date__c%20%2C%0AG3_Planned_Start_Date__c%20%2C%0AG4_Planned_End_Date__c%20%2C%0AG4_Planned_Start_Date__c%20%2C%0AG5_Planned_End_Date__c%20%2C%0AG5_Planned_Start_Date__c%20%0A%20FROM%20New_Project_Process_Timeline__c%20WHERE%20New_Product_Development__c%20%20%3D%20%27${projectId}%27`;

  try {
    const response = await axios.get(url, {
      headers: {
        Authorization: `Bearer ${accessToken}`,
      },
    });

    return { ...response.data };
  } catch (error) {
    console.error("Error fetching task data:", error);
    throw error;
  }
};
